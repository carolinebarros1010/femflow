<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Quiz FemFlow - Ciclo Menstrual</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Lato&display=swap" rel="stylesheet">
 <style>
  :root {
    --creme: #F4E1D7;
    --pessego: #EFBDA6;
    --terracota: #CC6A5A;
    --teal: #335953;
    --cinza: #2B2B2B;
  }

  body {
    font-family: 'Lato', sans-serif;
    background-color: var(--creme);
    color: var(--cinza);
    margin: 0;
    padding: 2rem 1rem;
    line-height: 1.6;
  }

  h1, h2 {
    text-align: center;
    font-family: 'Playfair Display', serif;
    color: var(--terracota);
  }

  h1 {
    font-size: 2rem;
    margin-bottom: 1.5rem;
  }

  h2 {
    margin-top: 2rem;
    font-size: 1.4rem;
  }

  .box {
    background: #EFBDA6;
    padding: 2rem;
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.05);
    max-width: 600px;
    margin: 2rem auto;
  }

  label {
    display: block;
    margin: 1rem 0 0.5rem;
    font-weight: bold;
  }

  input, select {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #ddd;
    border-radius: 10px;
    font-size: 1rem;
    margin-bottom: 1rem;
  }

  .submit-btn {
    display: block;
    margin: 2rem auto 1rem;
    background-color: var(--teal);
    color: white;
    padding: 1rem 2rem;
    border: none;
    font-size: 1rem;
    border-radius: 12px;
    cursor: pointer;
    transition: background 0.3s;
  }

  .submit-btn:hover {
    background-color: var(--terracota);
  }

  .result {
    max-width: 600px;
    margin: 3rem auto;
    text-align: center;
    background: #EFBDA6;
    padding: 2rem;
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.05);
  }

  .result h2 {
    color: var(--teal);
    margin-bottom: 1rem;
  }

  .result p {
    margin-bottom: 2rem;
  }

  .treino-btn {
    display: inline-block;
    margin: 0.5rem;
    background-color: var(--pessego);
    color: white;
    text-decoration: none;
    padding: 1rem 1.5rem;
    border-radius: 12px;
    font-weight: bold;
    transition: background 0.3s;
  }

  .treino-btn:hover {
    background-color: var(--terracota);
  }

  @media (max-width: 600px) {
    .box, .result {
      padding: 1.5rem;
    }

    .treino-btn {
      display: block;
      width: 100%;
    }
  }
   .resultado-fase {
  margin-top: 1.5rem;
  background-color: #fff;
  padding: 1rem;
  border-radius: 8px;
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.05);
  text-align: center;
  color: #2B2B2B;
  font-weight: bold;
}
   #acessoTreinos {
  background-color: #fff;
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.08);
  max-width: 800px;
  margin: 2rem auto;
}
</style>
</head>
<body>

  <h1>Descubra em qual fase do ciclo você está</h1>

  <!-- Ciclo regular -->
  <div class="box">
    <h2>Ciclo Regular</h2>
    <label>Data da última menstruação:
      <input type="date" id="ultimaMenstruacao">
    </label>
    <label>Duração média do ciclo (em dias):
      <input type="number" id="duracaoCiclo" value="28" min="20" max="40">
    </label>
    <button class="submit-btn" onclick="calcularFase()">Calcular minha fase</button>
    <div id="resultadoRegular" style="margin-top: 1rem; font-weight: bold;"></div>
  </div>

  <!-- Ciclo irregular / Menopausa -->
  <div class="box">
    <h2>Ciclo Irregular / DIU / Menopausa</h2>
    <p>Responda às perguntas para estimarmos sua fase:</p>
    <label>
      Você está com mais disposição física?
      <select id="q1">
        <option value="">Selecione</option>
        <option value="folicular">Sim</option>
        <option value="menstrual">Não</option>
      </select>
    </label>
    <label>
      Está sentindo inchaço ou irritabilidade?
      <select id="q2">
        <option value="">Selecione</option>
        <option value="lutea">Sim</option>
        <option value="ovulatoria">Não</option>
      </select>
    </label>
    <label>
      Como está sua libido?
      <select id="q3">
        <option value="">Selecione</option>
        <option value="ovulatoria">Alta</option>
        <option value="menstrual">Baixa</option>
      </select>
    </label>
    <label>
      Está mais sensível ou reflexiva?
      <select id="q4">
        <option value="">Selecione</option>
        <option value="lutea">Sim</option>
        <option value="folicular">Não</option>
      </select>
    </label>
    <label>
      Está com dores ou cólicas?
      <select id="q5">
        <option value="">Selecione</option>
        <option value="menstrual">Sim</option>
        <option value="folicular">Não</option>
      </select>
    </label>
    <button class="submit-btn" onclick="estimarFase()">Estimar fase</button>
    <div id="resultadoRegular" style="margin-top: 1rem; font-weight: bold;"></div>
  </div>
  
<!-- Campo para inserir o código -->
<input type="hidden" id="faseDetectada" value="">

<div class="box" id="acessoTreino" style="display: none; background-color: #FFEAE5;">
  <h2>Treinos da sua fase</h2>
  <p>Se você recebeu um código de acesso, digite abaixo para liberar seus treinos:</p>

  <input type="text" id="codigoAcesso" placeholder="Ex: FEMFLOW02 ou CASAFLOW02">
  <button class="submit-btn" onclick="verificarCodigo()">Liberar treinos</button>

  <div id="treinosLiberados" style="margin-top: 1.5rem;"></div>
</div>


<script>
  let faseDetectada = "";

  function calcularFase() {
    const ultima = document.getElementById('ultimaMenstruacao').value;
    const duracao = parseInt(document.getElementById('duracaoCiclo').value);
    if (!ultima || !duracao) {
      alert("Preencha os campos corretamente.");
      return;
    }

    const hoje = new Date();
    const ultimaDate = new Date(ultima);
    const diffDias = Math.floor((hoje - ultimaDate) / (1000 * 60 * 60 * 24));
    const diaCiclo = diffDias % duracao;

    let fase = '';
    if (diaCiclo <= 5) fase = 'menstrual';
    else if (diaCiclo <= 12) fase = 'folicular';
    else if (diaCiclo <= 16) fase = 'ovulatoria';
    else fase = 'lutea';

    faseDetectada = fase;
    document.getElementById("faseDetectada").value = fase;

    document.getElementById("resultadoRegular").innerHTML = `
      <h3>Fase atual: ${fase.toUpperCase()}</h3>
    `;
    document.getElementById("resultadoIRRegular").innerHTML = `
      <h3>Fase atual: ${fase.toUpperCase()}</h3>
    `;
    document.getElementById("acessoTreino").style.display = "block";
  }

function estimarFase() {
  const respostas = [
    document.getElementById("q1").value,
    document.getElementById("q2").value,
    document.getElementById("q3").value,
    document.getElementById("q4").value,
    document.getElementById("q5").value,
  ];

  const contagem = {};
  respostas.forEach(fase => {
    if (fase) contagem[fase] = (contagem[fase] || 0) + 1;
  });

  let fase = Object.keys(contagem).reduce((a, b) => contagem[a] > contagem[b] ? a : b, 'folicular');

  // Atualiza a fase detectada no campo oculto
  document.getElementById("faseDetectada").value = fase;

  // Exibe o box de código se ainda não estiver visível
  document.getElementById("acessoTreino").style.display = 'block';

  // Mostra a fase no bloco do ciclo regular
  document.getElementById("resultadoRegular").innerText = `Sua fase estimada é: ${fase.toUpperCase()}`;
  
  // Mostra a fase no bloco do ciclo irregular
  document.getElementById("resultadoIRRegular").innerText = `Sua fase estimada é: ${fase.toUpperCase()}`;
}
  

  function mostrarFaseSomente(fase) {
  // Aqui você define onde será exibido o resultado da fase
  const resultBox = document.getElementById('result');
  resultBox.innerHTML = `
    <h2>Sua fase é: ${fase.toUpperCase()}</h2>
    <p>Utilize esse resultado para acessar os treinos conforme seu plano FemFlow.</p>
  `;
}

function verificarCodigo() {
  const codigo = document.getElementById('codigoAcesso').value.trim().toUpperCase();
  const linksDiv = document.getElementById('linksTreinos');
  linksDiv.innerHTML = ''; // limpa

  const urlBase = `https://www.femflow.com.br/femflowidciclo`;

  const treinosPorCodigo = {
    "FEMFLOW01": ["A", "B"],
    "FEMFLOW02": ["A", "B", "C"],
    "FEMFLOW03": ["A", "B", "C", "D"]
    // Adicione mais conforme precisar
  };

  if (!treinosPorCodigo[codigo]) {
    linksDiv.innerHTML = `<p style="color:#CC6A5A; font-weight:bold;">Código inválido. Tente novamente.</p>`;
    linksDiv.style.display = 'block';
    return;
  }

  const treinos = treinosPorCodigo[codigo];
  let html = `<h3>Treinos disponíveis:</h3>`;

  treinos.forEach(letra => {
    html += `<a class="treino-btn" target="_blank" style="display:block; margin-top: 0.5rem;" href="${urlBase}/treino_${letra.toLowerCase()}_${faseAtual}.html">Treino ${letra}</a>`;
  });

  linksDiv.innerHTML = html;
  linksDiv.style.display = 'block';

}
  function verificarCodigo() {
    const codigo = document.getElementById("codigoAcesso").value.trim().toUpperCase();
    const fase = document.getElementById("faseDetectada").value;
    const container = document.getElementById("treinosLiberados");

    if (!fase) {
      container.innerHTML = "<p>❗ Primeiro descubra sua fase do ciclo.</p>";
      return;
    }

    if (codigo === "FEMFLOW02") {
      container.innerHTML = `
        <h3>Treinos liberados para a fase: ${fase.toUpperCase()}</h3>
        <a class="treino-btn" href="https://www.femflow.com.br/femflowidciclo/treinos/treino_a_${fase}.html" target="_blank">Treino A</a>
        <a class="treino-btn" href="https://www.femflow.com.br/femflowidciclo/treinos/treino_b_${fase}.html" target="_blank">Treino B</a>
        <a class="treino-btn" href="https://www.femflow.com.br/femflowidciclo/treinos/treino_c_${fase}.html" target="_blank">Treino C</a>
      `;
    } else if (codigo === "CASAFLOW02") {
      container.innerHTML = `
        <h3>Treinos para fazer em casa – Fase: ${fase.toUpperCase()}</h3>
        <a class="treino-btn" href="https://www.femflow.com.br/femflowidciclo/treinos/treinocasa_a_${fase}.html" target="_blank">Treino A</a>
        <a class="treino-btn" href="https://www.femflow.com.br/femflowidciclo/treinos/treinocasa_b_${fase}.html" target="_blank">Treino B</a>
        <a class="treino-btn" href="https://www.femflow.com.br/femflowidciclo/treinos/treinocasa_c_${fase}.html" target="_blank">Treino C</a>
      `;
    } else {
      container.innerHTML = `<p style="color: #CC6A5A;">❌ Código inválido. Verifique com sua treinadora ou compre um plano FemFlow para liberar os treinos.</p>`;
    }
  }
</script>

</script>


</body>
</html>

