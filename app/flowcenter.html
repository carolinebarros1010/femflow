<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="format-detection" content="telephone=no" />
  <script src="./config/config.js"></script>
  <title>FemFlow â€¢ Flow Center</title>

  <link rel="icon" href="favicon.ico">
  <link rel="manifest" href="manifest.json">

  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="css/core.css">
  <link rel="stylesheet" href="css/header.css">
  <link rel="stylesheet" href="css/themes.css">
  <link rel="stylesheet" href="css/flowcenter.css">
</head>

<body>

<h1 id="tituloApp">
  FemFlow <span id="nivelTag"></span>
</h1>

<h3 id="tituloFlow">â€”</h3>
<p class="subtitle" id="subFlow">â€”</p>

<!-- ================================
     CÃRCULO HORMONAL
================================= -->
<div class="phase-wrapper">
  <div class="phase-svg">
      <svg viewBox="0 0 300 300" width="260" height="260">
        <circle cx="150" cy="150" r="120" fill="#fff5ef"></circle>

        <g stroke="#fff5ef" stroke-width="3">
          <path id="seg-menstrual"  d="M150,150 L150,30 A120,120 0 0,1 270,150 Z"  fill="#f9e0d8"></path>
          <path id="seg-follicular" d="M150,150 L270,150 A120,120 0 0,1 150,270 Z" fill="#f9e0d8"></path>
          <path id="seg-ovulatory"  d="M150,150 L150,270 A120,120 0 0,1 30,150 Z"  fill="#f9e0d8"></path>
          <path id="seg-luteal"     d="M150,150 L30,150 A120,120 0 0,1 150,30 Z"  fill="#f9e0d8"></path>
        </g>

        <circle cx="150" cy="150" r="65" fill="none" stroke="#fff5ef" stroke-width="2"></circle>
        <circle cx="150" cy="150" r="63" fill="#cc6a5a"></circle>

        <text id="lbl-menstrual"  x="215" y="95"  font-family="Playfair Display" font-size="14" font-weight="700" fill="#cc6a5a" text-anchor="middle" transform="rotate(45,215,95)">â€”</text>
        <text id="lbl-follicular" x="215" y="215" font-family="Playfair Display" font-size="14" font-weight="700" fill="#cc6a5a" text-anchor="middle" transform="rotate(135,215,215)">â€”</text>
        <text id="lbl-ovulatory"  x="85"  y="215" font-family="Playfair Display" font-size="14" font-weight="700" fill="#cc6a5a" text-anchor="middle" transform="rotate(225,85,215)">â€”</text>
        <text id="lbl-luteal"     x="85"  y="85"  font-family="Playfair Display" font-size="14" font-weight="700" fill="#cc6a5a" text-anchor="middle" transform="rotate(315,85,85)">â€”</text>

        <text id="centerPhase" x="150" y="155" text-anchor="middle" font-family="Playfair Display" font-size="18" font-weight="700" fill="#fff">â€”</text>
      </svg>
  </div>
</div>

<div class="current-phase" id="t_current">â€”</div>

<!-- NAV -->
<div class="toolbar">
  <button class="tool" id="toBreath">ğŸ’¨ â€”</button>
  <button class="tool" id="toTrain">ğŸƒ â€”</button>
  <button class="tool" id="toExtraTrain">âœ¨ â€”</button>
  <button class="tool" id="toCustomTrain">ğŸ§© â€”</button>
  <button class="tool" id="toEvolution">ğŸ“ˆ â€”</button>
  <button class="tool" id="toEndurance">ğŸƒâ€â™‚ï¸ Endurance</button>
</div>

<!-- MODAL DE NÃVEL -->
<div id="modal-nivel" class="modal-nivel oculto">
  <div class="modal-nivel-box">
    <h2>ğŸ“Š Selecione seu nÃ­vel</h2>

    <button class="nivel-btn" data-nivel="iniciante">Iniciante</button>
    <button class="nivel-btn" data-nivel="intermediaria">IntermediÃ¡ria</button>
    <button class="nivel-btn" data-nivel="avancada">AvanÃ§ada</button>

    <button id="btnConfirmarNivel" class="nivel-confirmar">
      Confirmar nÃ­vel
    </button>

    <button id="fecharNivel" class="nivel-fechar">Fechar</button>
  </div>
</div>

<!-- MODAL DE TREINO EXTRA -->
<div id="modal-extra" class="modal-extra oculto">
  <div class="modal-extra-box">
    <h2 id="extraTitle">âœ¨ Treino Extra</h2>
    <p id="extraSub" class="modal-extra-sub">Escolha a Ã¡rea que deseja focar hoje.</p>

    <button class="extra-btn" data-extra-enfase="extra_superior">Superior</button>
    <button class="extra-btn" data-extra-enfase="extra_inferior">Inferior</button>
    <button class="extra-btn" data-extra-enfase="extra_abdomen">AbdÃ´men</button>
    <button class="extra-btn" data-extra-enfase="extra_mobilidade">Mobilidade</button>
    <button class="extra-btn" data-extra-enfase="extra_biceps">BÃ­ceps</button>
    <button class="extra-btn" data-extra-enfase="extra_triceps">TrÃ­ceps</button>
    <button class="extra-btn" data-extra-enfase="extra_ombro">Ombro</button>
    <button class="extra-btn" data-extra-enfase="extra_quadriceps">QuadrÃ­ceps</button>
    <button class="extra-btn" data-extra-enfase="extra_posterior">Posteriores</button>
    <button class="extra-btn" data-extra-enfase="extra_peito">Peito</button>
    <button class="extra-btn" data-extra-enfase="extra_costas">Costas</button>
    <button class="extra-btn" data-extra-enfase="extra_gluteo">GlÃºteo</button>

    <button id="fecharExtra" class="extra-close">Fechar</button>
  </div>
</div>

<!-- MODAL ENDURANCE -->
<div id="modal-endurance" class="modal-endurance oculto" aria-hidden="true">
  <div class="modal-endurance-box" role="dialog" aria-modal="true">
    <h2 id="enduranceModalTitulo">ğŸƒâ€â™‚ï¸ Defina seu Endurance</h2>
    <p class="modal-endurance-sub" id="enduranceModalSub">
      Responda para personalizarmos o seu treino de cardio.
    </p>

    <label class="endurance-field">
      <span id="enduranceModalidadeLabel">Qual modalidade?</span>
      <select id="enduranceModalidade" class="endurance-select">
        <option value="" selected id="enduranceModalidadePlaceholder">Selecione a modalidade</option>
        <optgroup label="Corrida" id="enduranceModalidadeGrupoCorrida">
          <option value="corrida" id="enduranceOptCorrida">Corrida (geral)</option>
          <option value="corrida_5k" id="enduranceOptCorrida5k">Corrida 5 km</option>
          <option value="corrida_10k" id="enduranceOptCorrida10k">Corrida 10 km</option>
          <option value="corrida_15k" id="enduranceOptCorrida15k">Corrida 15 km</option>
          <option value="corrida_21k" id="enduranceOptCorrida21k">Corrida 21 km</option>
          <option value="corrida_42k" id="enduranceOptCorrida42k">Corrida 42 km</option>
        </optgroup>
        <optgroup label="Outras modalidades" id="enduranceModalidadeGrupoOutras">
          <option value="natacao" id="enduranceOptNatacao">NataÃ§Ã£o</option>
          <option value="bike" id="enduranceOptBike">Bike / Ciclismo</option>
          <option value="remo" id="enduranceOptRemo">Remo</option>
        </optgroup>
      </select>
    </label>

    <div class="endurance-field">
      <span id="enduranceTreinosLabel">Quantos treinos por semana?</span>
      <div class="endurance-options" id="enduranceTreinosSemana">
        <button type="button" class="endurance-chip" data-value="1">1</button>
        <button type="button" class="endurance-chip" data-value="2">2</button>
        <button type="button" class="endurance-chip" data-value="3">3</button>
        <button type="button" class="endurance-chip" data-value="4">4</button>
        <button type="button" class="endurance-chip" data-value="5">5</button>
        <button type="button" class="endurance-chip" data-value="6">6</button>
        <button type="button" class="endurance-chip" data-value="7">7</button>
      </div>
    </div>

    <div class="endurance-field">
      <span id="enduranceDiasLabel">Quais dias da semana?</span>
      <div class="endurance-options" id="enduranceDiasSemana">
        <button type="button" class="endurance-chip" data-value="segunda">Seg</button>
        <button type="button" class="endurance-chip" data-value="terca">Ter</button>
        <button type="button" class="endurance-chip" data-value="quarta">Qua</button>
        <button type="button" class="endurance-chip" data-value="quinta">Qui</button>
        <button type="button" class="endurance-chip" data-value="sexta">Sex</button>
        <button type="button" class="endurance-chip" data-value="sabado">SÃ¡b</button>
        <button type="button" class="endurance-chip" data-value="domingo">Dom</button>
      </div>
    </div>

    <label class="endurance-field">
      <span>
        <span id="enduranceRitmoLabel">Qual ritmo mÃ©dio?</span>
        <button
          type="button"
          class="endurance-info"
          id="enduranceRitmoInfo"
          aria-label="Minutos para cada 100m em nataÃ§Ã£o, velocidade mÃ©dia em bike, pace em corrida."
          title="Minutos para cada 100m em nataÃ§Ã£o, velocidade mÃ©dia em bike, pace em corrida."
        >i</button>
      </span>
      <input type="text" id="enduranceRitmo" placeholder="Ex: 2:10/100m, 25 km/h, 5:20 min/km">
    </label>

    <div class="endurance-actions">
      <button type="button" class="endurance-btn ghost" id="enduranceCancelar">Cancelar</button>
      <button type="button" class="endurance-btn" id="enduranceSalvar">Salvar e continuar</button>
    </div>
  </div>
</div>

<!-- MODAL ENDURANCE â€” SELEÃ‡ÃƒO -->
<div id="modal-endurance-selecao" class="modal-endurance modal-endurance-selecao oculto" aria-hidden="true">
  <div class="modal-endurance-box" role="dialog" aria-modal="true">
    <h2 id="enduranceSelecaoTitulo">ğŸƒâ€â™‚ï¸ Escolha sua sessÃ£o</h2>
    <p class="modal-endurance-sub" id="enduranceSelecaoSub">
      Selecione a semana e o dia do treino que vocÃª vai realizar.
    </p>

    <div class="endurance-field">
      <span id="enduranceSelecaoSemanaLabel">Semana</span>
      <div class="endurance-options" id="enduranceSemana">
        <button type="button" class="endurance-chip" data-value="1">1</button>
        <button type="button" class="endurance-chip" data-value="2">2</button>
        <button type="button" class="endurance-chip" data-value="3">3</button>
        <button type="button" class="endurance-chip" data-value="4">4</button>
      </div>
    </div>

    <div class="endurance-field">
      <span id="enduranceSelecaoDiaLabel">Dia</span>
      <div class="endurance-options endurance-days" id="enduranceDia">
        <button type="button" class="endurance-chip" data-value="segunda">Seg</button>
        <button type="button" class="endurance-chip" data-value="terca">Ter</button>
        <button type="button" class="endurance-chip" data-value="quarta">Qua</button>
        <button type="button" class="endurance-chip" data-value="quinta">Qui</button>
        <button type="button" class="endurance-chip" data-value="sexta">Sex</button>
        <button type="button" class="endurance-chip" data-value="sabado">SÃ¡b</button>
        <button type="button" class="endurance-chip" data-value="domingo">Dom</button>
      </div>
    </div>

    <div class="endurance-actions">
      <button type="button" class="endurance-btn ghost" id="enduranceSelecaoCancelar">Cancelar</button>
      <button type="button" class="endurance-btn" id="enduranceSelecaoContinuar">Continuar</button>
    </div>
  </div>
</div>

<!-- MODAL ENDURANCE PERSONAL â€” EXCLUSIVO -->
<div id="modal-endurance-personal" class="modal-endurance modal-endurance-personal oculto" aria-hidden="true" data-mode="personal">
  <div class="modal-endurance-box" role="dialog" aria-modal="true">
    <h2>âœ¨ Endurance Personal</h2>
    <p class="modal-endurance-sub" id="endurancePersonalSub">
      Treino individual do seu personal. Selecione apenas opÃ§Ãµes disponÃ­veis.
    </p>

    <div class="endurance-personal-modalidade" id="endurancePersonalModalidadeBadge">â€”</div>

    <div id="endurancePersonalLoading" class="endurance-personal-loading oculto">Carregando agenda do seu personal...</div>

    <div id="endurancePersonalContent">
      <div class="endurance-field">
        <span>Semana disponÃ­vel</span>
        <div class="endurance-options" id="endurancePersonalSemanas"></div>
      </div>

      <div class="endurance-field">
        <span>Dia disponÃ­vel</span>
        <div class="endurance-options endurance-days" id="endurancePersonalDias"></div>
        <small id="endurancePersonalHint" class="endurance-personal-hint">Selecione uma semana para ver os dias.</small>
      </div>
    </div>

    <div id="endurancePersonalEmpty" class="endurance-personal-empty oculto">
      <div class="endurance-personal-empty-icon">ğŸŒ¸</div>
      <p>Seu personal ainda nÃ£o configurou seu endurance.</p>
      <button type="button" class="endurance-btn ghost" id="endurancePersonalFalar">Falar com meu personal</button>
    </div>

    <div class="endurance-actions" id="endurancePersonalActions">
      <button type="button" class="endurance-btn ghost" id="endurancePersonalCancelar">Cancelar</button>
      <button type="button" class="endurance-btn" id="endurancePersonalConfirmar" disabled>Confirmar treino</button>
    </div>
  </div>
</div>

<!-- MODAL CAMINHOS â€” ESCOLHA -->
<div id="modalCaminhosEscolha" class="modal-caminhos oculto" aria-hidden="true">
  <div class="modal-caminhos-box" role="dialog" aria-modal="true">
    <h3 id="modalCaminhosEscolhaTitulo">Escolha seu treino</h3>
    <p id="modalCaminhosUltimo" class="modal-caminhos-texto">Seu Ãºltimo treino foi Treino 1</p>
    <p id="modalCaminhosSugerido" class="modal-caminhos-texto destaque">Comparativo â†’ Sugerimos Treino 2</p>
    <p id="modalCaminhosFase" class="modal-caminhos-texto">Fase Follicular</p>
    <div id="modalCaminhosBotoes" class="modal-caminhos-grid"></div>
    <div class="modal-caminhos-actions">
      <button type="button" id="modalCaminhosFechar" class="endurance-btn ghost">Fechar</button>
    </div>
  </div>
</div>

<!-- MODAL CAMINHOS â€” PRÃ‰VIA -->
<div id="modalCaminhosPreview" class="modal-caminhos oculto" aria-hidden="true">
  <div class="modal-caminhos-box" role="dialog" aria-modal="true">
    <h3 id="modalCaminhosPreviewTitulo">Treino 1 â€” Fase Follicular</h3>
    <ul id="modalCaminhosPreviewLista" class="modal-caminhos-lista"></ul>
    <div class="modal-caminhos-actions">
      <button type="button" id="modalCaminhosMudar" class="endurance-btn ghost">Mudar</button>
      <button type="button" id="modalCaminhosIniciar" class="endurance-btn">Iniciar treino</button>
    </div>
  </div>
</div>


<div id="ff-loading" class="ff-loading">
  <div class="ff-loading-box">
    <div class="ff-spinner"></div>
    <p>Carregandoâ€¦</p>
  </div>
</div>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-messaging-compat.js"></script>

<script src="services/firebase-init.js?v=20250127"></script>

<script src="js/lang.js"></script>
<script src="core/femflow-core.js"></script>
<script src="js/treino-engine.js"></script>
<script src="js/treino-caminhos.js"></script>
<script src="js/flowcenter.js"></script>

  <script src="/app/js/env.js"></script>
</body>
</html>
