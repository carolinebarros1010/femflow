<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="format-detection" content="telephone=no" />
  <script src="./config/config.js"></script>
  <title>FemFlow Â· Treino Base</title>
  <link rel="stylesheet" href="css/style.css" />
  <script src="core/femflow-core.js" defer></script>
</head>

<body>
  <!-- CabeÃ§alho dinÃ¢mico FemFlow (logo e botÃ£o de voltar) serÃ£o inseridos via script -->

  <!-- SeÃ§Ã£o de introduÃ§Ã£o ao treino -->
  <section class="intro">
    <h1 id="tituloTreino">ğŸŒ¸ Treino do Dia</h1>
    <p id="faseInfo">Fase: <b>Folicular</b> Â· NÃ­vel: <b>IntermediÃ¡rio</b></p>
  </section>

  <!-- Container principal para boxes estilo Netflix -->
  <section class="box-scroll" id="boxesContainer">
    <!-- Os boxes de treino, aquecimento e resfriamento serÃ£o inseridos dinamicamente -->
  </section>

  <!-- RodapÃ© fixo com aÃ§Ãµes do usuÃ¡rio -->
  <footer class="footerActions">
    <button class="btn-hiit" onclick="FEMFLOW.iniciarHIIT(30,30,6)">ğŸ”¥ HIIT</button>
    <button class="btn-save" onclick="abrirPSEModal()">ğŸ’¾ Salvar</button>
    <button class="btn-descanso" onclick="FEMFLOW.salvarDescanso()">ğŸ©¶ Descanso</button>
  </footer>

  <!-- Script para carregar dados do treino dinamicamente -->
  <script>
    // SimulaÃ§Ã£o de carregamento: no futuro, os dados virÃ£o do Apps Script ou JSON
    document.addEventListener("DOMContentLoaded", async () => {
      const exemploTreino = {
        fase: "Folicular",
        nivel: "IntermediÃ¡rio",
        exercicios: [
          {
            nome: "Agachamento SumÃ´ com Halter (Ãªnfase em glÃºteo)",
            link: "https://www.youtube.com/shorts/cK24WR3Cg6c",
            series: 3,
            reps: "12â€“15",
            descanso: 45
          },
          {
            nome: "Ponte GlÃºteo",
            link: "https://www.youtube.com/shorts/E8UAqAY700o",
            series: 3,
            reps: "15â€“20",
            descanso: 60
          }
        ]
      };
      carregarTreino(exemploTreino);
    });

    // FunÃ§Ã£o que gera os boxes de treino com base no objeto recebido
    function carregarTreino(data) {
      const container = document.getElementById("boxesContainer");
      container.innerHTML = "";

      // Exemplo de um Ãºnico box; no futuro pode haver mais de um
      const box = document.createElement("div");
      box.className = "box-treino";
      box.innerHTML = `
        <h2>Box 1 Â· GlÃºteos</h2>
        <div class="ex-list">
          ${data.exercicios.map(ex => `
            <div class="ex-item">
              <a href="${ex.link}" target="_blank">${ex.nome}</a>
              <p>${ex.series} sÃ©ries Â· ${ex.reps} reps</p>
              <span class="timer">â±ï¸ ${ex.descanso}s descanso</span>
            </div>
          `).join("")}
        </div>
      `;
      container.appendChild(box);
    }

    // Envolve a funÃ§Ã£o PSE do script global para salvar o treino
    function abrirPSEModal() {
      FEMFLOW.abrirPSE((valor) => FEMFLOW.salvarTreino({
        id: "FF001",
        fase: "Folicular",
        treino: "A",
        tipo_dia: "treino",
        pse: valor
      }));
    }
  </script>
  <script src="/app/js/env.js"></script>
</body>
</html>
