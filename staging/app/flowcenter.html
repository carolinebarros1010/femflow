<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="format-detection" content="telephone=no" />
  <script src="./config/config.js"></script>
  <title>FemFlow â€¢ Flow Center</title>

  <link rel="icon" href="favicon.ico">
  <link rel="manifest" href="manifest.json">

  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="css/core.css">
  <link rel="stylesheet" href="css/header.css">
  <link rel="stylesheet" href="css/themes.css">
  <link rel="stylesheet" href="css/flowcenter.css">
</head>

<body>

<h1 id="tituloApp">
  FemFlow <span id="nivelTag"></span>
</h1>

<h3 id="tituloFlow">â€”</h3>
<p class="subtitle" id="subFlow">â€”</p>

<!-- ================================
     CÃRCULO HORMONAL
================================= -->
<div class="phase-wrapper">
  <div class="phase-svg">
      <svg viewBox="0 0 300 300" width="260" height="260">
        <circle cx="150" cy="150" r="120" fill="#fff5ef"></circle>

        <g stroke="#fff5ef" stroke-width="3">
          <path id="seg-menstrual"  d="M150,150 L150,30 A120,120 0 0,1 270,150 Z"  fill="#f9e0d8"></path>
          <path id="seg-follicular" d="M150,150 L270,150 A120,120 0 0,1 150,270 Z" fill="#f9e0d8"></path>
          <path id="seg-ovulatory"  d="M150,150 L150,270 A120,120 0 0,1 30,150 Z"  fill="#f9e0d8"></path>
          <path id="seg-luteal"     d="M150,150 L30,150 A120,120 0 0,1 150,30 Z"  fill="#f9e0d8"></path>
        </g>

        <circle cx="150" cy="150" r="65" fill="none" stroke="#fff5ef" stroke-width="2"></circle>
        <circle cx="150" cy="150" r="63" fill="#cc6a5a"></circle>

        <text id="lbl-menstrual"  x="215" y="95"  font-family="Playfair Display" font-size="14" font-weight="700" fill="#cc6a5a" text-anchor="middle" transform="rotate(45,215,95)">â€”</text>
        <text id="lbl-follicular" x="215" y="215" font-family="Playfair Display" font-size="14" font-weight="700" fill="#cc6a5a" text-anchor="middle" transform="rotate(135,215,215)">â€”</text>
        <text id="lbl-ovulatory"  x="85"  y="215" font-family="Playfair Display" font-size="14" font-weight="700" fill="#cc6a5a" text-anchor="middle" transform="rotate(225,85,215)">â€”</text>
        <text id="lbl-luteal"     x="85"  y="85"  font-family="Playfair Display" font-size="14" font-weight="700" fill="#cc6a5a" text-anchor="middle" transform="rotate(315,85,85)">â€”</text>

        <text id="centerPhase" x="150" y="155" text-anchor="middle" font-family="Playfair Display" font-size="18" font-weight="700" fill="#fff">â€”</text>
      </svg>
  </div>
</div>

<div class="current-phase" id="t_current">â€”</div>

<!-- NAV -->
<div class="toolbar">
  <button class="tool" id="toBreath">ğŸ’¨ â€”</button>
  <button class="tool" id="toTrain">ğŸƒ â€”</button>
  <button class="tool" id="toExtraTrain">âœ¨ â€”</button>
  <button class="tool" id="toEvolution">ğŸ“ˆ â€”</button>
  <button class="tool" id="toEndurance">ğŸƒâ€â™‚ï¸ Endurance</button>
  <button class="tool" id="toNextTreino">ğŸ—“ï¸ Ver prÃ³ximo treino</button>
</div>

<!-- MODAL DE NÃVEL -->
<div id="modal-nivel" class="modal-nivel oculto">
  <div class="modal-nivel-box">
    <h2>ğŸ“Š Selecione seu nÃ­vel</h2>

    <button class="nivel-btn" data-nivel="iniciante">Iniciante</button>
    <button class="nivel-btn" data-nivel="intermediaria">IntermediÃ¡ria</button>
    <button class="nivel-btn" data-nivel="avancada">AvanÃ§ada</button>

    <button id="btnConfirmarNivel" class="nivel-confirmar">
      Confirmar nÃ­vel
    </button>

    <button id="fecharNivel" class="nivel-fechar">Fechar</button>
  </div>
</div>

<!-- MODAL DE TREINO EXTRA -->
<div id="modal-extra" class="modal-extra oculto">
  <div class="modal-extra-box">
    <h2 id="extraTitle">âœ¨ Treino Extra</h2>
    <p id="extraSub" class="modal-extra-sub">Escolha a Ã¡rea que deseja focar hoje.</p>

    <button class="extra-btn" data-extra-enfase="extra_superior">Superior</button>
    <button class="extra-btn" data-extra-enfase="extra_inferior">Inferior</button>
    <button class="extra-btn" data-extra-enfase="extra_abdomen">AbdÃ´men</button>
    <button class="extra-btn" data-extra-enfase="extra_mobilidade">Mobilidade</button>

    <button id="fecharExtra" class="extra-close">Fechar</button>
  </div>
</div>

<!-- MODAL ENDURANCE -->
<div id="modal-endurance" class="modal-endurance oculto" aria-hidden="true">
  <div class="modal-endurance-box" role="dialog" aria-modal="true">
    <h2>ğŸƒâ€â™‚ï¸ Defina seu Endurance</h2>
    <p class="modal-endurance-sub">
      Responda para personalizarmos o seu treino de cardio.
    </p>

    <label class="endurance-field">
      <span>Qual modalidade?</span>
      <input type="text" id="enduranceModalidade" placeholder="Ex: corrida, bike, nataÃ§Ã£o">
    </label>

    <div class="endurance-field">
      <span>Quantos treinos por semana?</span>
      <div class="endurance-options" id="enduranceTreinosSemana">
        <button type="button" class="endurance-chip" data-value="1">1</button>
        <button type="button" class="endurance-chip" data-value="2">2</button>
        <button type="button" class="endurance-chip" data-value="3">3</button>
        <button type="button" class="endurance-chip" data-value="4">4</button>
        <button type="button" class="endurance-chip" data-value="5">5</button>
        <button type="button" class="endurance-chip" data-value="6">6</button>
        <button type="button" class="endurance-chip" data-value="7">7</button>
      </div>
    </div>

    <div class="endurance-field">
      <span>Quais dias da semana?</span>
      <div class="endurance-options" id="enduranceDiasSemana">
        <button type="button" class="endurance-chip" data-value="segunda">Seg</button>
        <button type="button" class="endurance-chip" data-value="terca">Ter</button>
        <button type="button" class="endurance-chip" data-value="quarta">Qua</button>
        <button type="button" class="endurance-chip" data-value="quinta">Qui</button>
        <button type="button" class="endurance-chip" data-value="sexta">Sex</button>
        <button type="button" class="endurance-chip" data-value="sabado">SÃ¡b</button>
        <button type="button" class="endurance-chip" data-value="domingo">Dom</button>
      </div>
    </div>

    <label class="endurance-field">
      <span>
        Qual ritmo mÃ©dio?
        <span class="endurance-info" title="Minutos para cada 100m em nataÃ§Ã£o, velocidade mÃ©dia em bike, pace em corrida.">i</span>
      </span>
      <input type="text" id="enduranceRitmo" placeholder="Ex: 2:10/100m, 25 km/h, 5:20 min/km">
    </label>

    <div class="endurance-actions">
      <button type="button" class="endurance-btn ghost" id="enduranceCancelar">Cancelar</button>
      <button type="button" class="endurance-btn" id="enduranceSalvar">Salvar e continuar</button>
    </div>
  </div>
</div>

<!-- MODAL ENDURANCE â€” SELEÃ‡ÃƒO -->
<div id="modal-endurance-selecao" class="modal-endurance modal-endurance-selecao oculto" aria-hidden="true">
  <div class="modal-endurance-box" role="dialog" aria-modal="true">
    <h2>ğŸƒâ€â™‚ï¸ Escolha sua sessÃ£o</h2>
    <p class="modal-endurance-sub">
      Selecione a semana e o dia do treino que vocÃª vai realizar.
    </p>

    <div class="endurance-field">
      <span>Semana</span>
      <div class="endurance-options" id="enduranceSemana">
        <button type="button" class="endurance-chip" data-value="1">1</button>
        <button type="button" class="endurance-chip" data-value="2">2</button>
        <button type="button" class="endurance-chip" data-value="3">3</button>
        <button type="button" class="endurance-chip" data-value="4">4</button>
      </div>
    </div>

    <div class="endurance-field">
      <span>Dia</span>
      <div class="endurance-options endurance-days" id="enduranceDia">
        <button type="button" class="endurance-chip" data-value="segunda">Seg</button>
        <button type="button" class="endurance-chip" data-value="terca">Ter</button>
        <button type="button" class="endurance-chip" data-value="quarta">Qua</button>
        <button type="button" class="endurance-chip" data-value="quinta">Qui</button>
        <button type="button" class="endurance-chip" data-value="sexta">Sex</button>
        <button type="button" class="endurance-chip" data-value="sabado">SÃ¡b</button>
        <button type="button" class="endurance-chip" data-value="domingo">Dom</button>
      </div>
    </div>

    <div class="endurance-actions">
      <button type="button" class="endurance-btn ghost" id="enduranceSelecaoCancelar">Cancelar</button>
      <button type="button" class="endurance-btn" id="enduranceSelecaoContinuar">Continuar</button>
    </div>
  </div>
</div>

<!-- MODAL PRÃ“XIMO TREINO -->
<div id="modalProximoTreino" class="modal-proximo-overlay hidden" aria-hidden="true">
  <div class="modal-proximo-card" role="dialog" aria-modal="true">
    <h3 class="modal-proximo-title" id="modalProximoTitulo">PrÃ³ximo treino</h3>
    <p class="modal-proximo-subtitle" id="modalProximoSub">
      Veja os exercÃ­cios para se programar.
    </p>
    <div class="modal-proximo-list-title" id="modalProximoListaTitulo">
      Treino de amanhÃ£
    </div>
    <ul class="modal-proximo-list" id="modalProximoLista"></ul>
  </div>
</div>


<div id="ff-loading" class="ff-loading">
  <div class="ff-loading-box">
    <div class="ff-spinner"></div>
    <p>Carregandoâ€¦</p>
  </div>
</div>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-messaging-compat.js"></script>

<script src="services/firebase-init.js?v=20250127"></script>
<script>
  if (firebase.auth) {
    firebase.auth().signInAnonymously().catch((err) => {
      console.warn("[FemFlow] Auth anÃ´nimo falhou:", err);
    });
  }
</script>

<script src="js/lang.js"></script>
<script src="core/femflow-core.js"></script>
<script src="js/treino-engine.js"></script>
<script src="js/flowcenter.js"></script>

  <script src="/staging/app/js/env-staging.js"></script>
</body>
</html>
